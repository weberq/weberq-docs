{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Company SOPs","text":"<p>Welcome to the internal documentation of the company Standard Operating Procedures (SOPs).</p> <p>Browse by category from the left navigation.</p>"},{"location":"Web-Server/automated-github-trigger/","title":"S.O.P for Automated Trigger from GitHub to Web Server","text":"<p>Date: 21/11/2024 SOP Title: Automated trigger from GitHub repo to web server and pull updates Principal Investigator: Deepak Reddy  </p>"},{"location":"Web-Server/automated-github-trigger/#step-1-create-demo-repo","title":"Step 1 \u2013 Create Demo Repo","text":"<p>Make a PHP demo POC repo like this: https://github.com/deepak4566/demo-fresh-poc.git Then add a <code>script.sh</code> file which will run inside the server.</p>"},{"location":"Web-Server/automated-github-trigger/#step-2-setup-gcp-server","title":"Step 2 \u2013 Setup GCP Server","text":"<p>Go to Google Cloud Console and create a demo web server: https://console.cloud.google.com/compute/instances</p> <p>Login into the server and create private and public keys using: GitHub SSH key generation guide</p>"},{"location":"Web-Server/automated-github-trigger/#step-3-add-ssh-keys-to-github","title":"Step 3 \u2013 Add SSH Keys to GitHub","text":"<ul> <li>Add the private key to GitHub repository secrets as <code>GCP_SSH_PRIVATE_KEY</code>.</li> <li>Add the public key to your GitHub profile settings under SSH keys.</li> </ul>"},{"location":"Web-Server/automated-github-trigger/#step-4-add-github-workflow","title":"Step 4 \u2013 Add GitHub Workflow","text":"<p>Here is a sample GitHub workflow to deploy:</p> <pre><code>name: Deploy to Google Cloud Instance\n\non:\n  push:\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v4\n\n      - name: Deploy to Compute Engine Instance\n        run: |\n          INSTANCE_NAME=\"fresh-poc\"\n          ZONE=\"us-central1-b\"\n          SSH_USER=\"deepakreddyats1\"\n          SSH_KEY=\"${{ secrets.GCP_SSH_PRIVATE_KEY }}\"\n          DEPLOY_SCRIPT=\"Script.sh\"\n\n          echo \"$SSH_KEY\" &gt; private_key\n          chmod 600 private_key\n\n          ssh-keygen -y -f private_key &gt; private_key.pub\n          mkdir -p ~/.ssh\n          ssh-keyscan -H 34.45.123.96 &gt;&gt; ~/.ssh/known_hosts\n\n          scp -i private_key $DEPLOY_SCRIPT \"$SSH_USER@34.45.123.96:~/\"\n          ssh -i private_key \"$SSH_USER@34.45.123.96\" \"bash ~/Script.sh\"\n</code></pre> <p>Make sure to replace IP, zone, and usernames with your own values.</p>"},{"location":"Web-Server/automated-github-trigger/#conclusion","title":"Conclusion","text":"<p>This SOP demonstrates automated deployment from GitHub to a web server. It significantly reduces manual deployment effort.</p> <p>Prepared by: Deepak Reddy Reviewed by: To be assigned Approved by: To be assigned</p>"}]}